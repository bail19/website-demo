<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Irene Bai" />

<meta name="date" content="2022-03-29" />

<title>Lab 03 - Using Propensity Scores</title>

<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">This is an example!</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="analysis.html">Analysis</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/bail19">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Lab 03 - Using Propensity Scores</h1>
<h4 class="author">Irene Bai</h4>
<h4 class="date">2022-03-29</h4>

</div>


<pre class="r"><code>library(tidyverse)
library(smd)
library(gtsummary)
library(survey)
library(broom)
library(MatchIt)</code></pre>
<div id="exercise-1" class="section level2">
<h2>Exercise 1</h2>
<p><em>Read in the coffee_town_df.csv data frame. Describe the data (what are the columns, how many observations, how many in the exposed group, any missing data? etc.)</em></p>
<pre class="r"><code>coffee &lt;- read.csv(&quot;coffee_town_df.csv&quot;)</code></pre>
<pre class="r"><code>plyr::count(coffee$coffee_town ==1)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["lgl"],"align":["right"]},{"label":["freq"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"FALSE","2":"987"},{"1":"TRUE","2":"113"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>This data set has 1,100 observations and 5 variables, which are 3 categorical variables including whether people live in Coffee Town, whether they smoke, the difficulty of their jobs and 2 numerical variables including number of cups of coffee people drink and their age. While in this 1,100 observations, even though there is no missing data, there are only 113 observations in the exposed group.</p>
</div>
<div id="exercise-2" class="section level2">
<h2>Exercise 2</h2>
<p><em>Create an unweighted Table 1 by exposure group for these data. Describe what you see.</em></p>
<pre class="r"><code>coffee %&gt;%
  tbl_summary(
    by = coffee_town,
    include = c(&quot;age&quot;,
                &quot;smoke&quot;,
                &quot;job&quot;)
    ) %&gt;%
  add_overall()</code></pre>
<div id="ftznnbdzxx" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ftznnbdzxx .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ftznnbdzxx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ftznnbdzxx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ftznnbdzxx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ftznnbdzxx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ftznnbdzxx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ftznnbdzxx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ftznnbdzxx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ftznnbdzxx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ftznnbdzxx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ftznnbdzxx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ftznnbdzxx .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ftznnbdzxx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ftznnbdzxx .gt_from_md > :first-child {
  margin-top: 0;
}

#ftznnbdzxx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ftznnbdzxx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ftznnbdzxx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ftznnbdzxx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ftznnbdzxx .gt_row_group_first td {
  border-top-width: 2px;
}

#ftznnbdzxx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ftznnbdzxx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ftznnbdzxx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ftznnbdzxx .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ftznnbdzxx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ftznnbdzxx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ftznnbdzxx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ftznnbdzxx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ftznnbdzxx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ftznnbdzxx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ftznnbdzxx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ftznnbdzxx .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ftznnbdzxx .gt_left {
  text-align: left;
}

#ftznnbdzxx .gt_center {
  text-align: center;
}

#ftznnbdzxx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ftznnbdzxx .gt_font_normal {
  font-weight: normal;
}

#ftznnbdzxx .gt_font_bold {
  font-weight: bold;
}

#ftznnbdzxx .gt_font_italic {
  font-style: italic;
}

#ftznnbdzxx .gt_super {
  font-size: 65%;
}

#ftznnbdzxx .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#ftznnbdzxx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ftznnbdzxx .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#ftznnbdzxx .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#ftznnbdzxx .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Overall</strong>, N = 1,100<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>0</strong>, N = 987<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>1</strong>, N = 113<sup class="gt_footnote_marks">1</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">age</td>
<td class="gt_row gt_center">39 (34, 44)</td>
<td class="gt_row gt_center">39 (34, 43)</td>
<td class="gt_row gt_center">49 (14, 52)</td></tr>
    <tr><td class="gt_row gt_left">smoke</td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">current</td>
<td class="gt_row gt_center">55 (5.0%)</td>
<td class="gt_row gt_center">53 (5.4%)</td>
<td class="gt_row gt_center">2 (1.8%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">former</td>
<td class="gt_row gt_center">64 (5.8%)</td>
<td class="gt_row gt_center">60 (6.1%)</td>
<td class="gt_row gt_center">4 (3.5%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">never</td>
<td class="gt_row gt_center">981 (89%)</td>
<td class="gt_row gt_center">874 (89%)</td>
<td class="gt_row gt_center">107 (95%)</td></tr>
    <tr><td class="gt_row gt_left">job</td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">easy</td>
<td class="gt_row gt_center">760 (69%)</td>
<td class="gt_row gt_center">707 (72%)</td>
<td class="gt_row gt_center">53 (47%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">hard</td>
<td class="gt_row gt_center">212 (19%)</td>
<td class="gt_row gt_center">200 (20%)</td>
<td class="gt_row gt_center">12 (11%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">none</td>
<td class="gt_row gt_center">128 (12%)</td>
<td class="gt_row gt_center">80 (8.1%)</td>
<td class="gt_row gt_center">48 (42%)</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><sup class="gt_footnote_marks">1</sup> Median (IQR); n (%)</td>
    </tr>
  </tfoot>
</table>
</div>
<p>This table gives us the population distribution between total, control and treatment group for each covariate we considered. From this table, we can figure out that this data is not balanced for almost all the features as the number of people for each covariate differs between control and treatment group.</p>
</div>
<div id="exercise-3" class="section level2">
<h2>Exercise 3</h2>
<p><em>Fit a propensity score model using the DAG provided. Examine the distribution of propensity scores by exposure group. What do you see?</em></p>
<pre class="r"><code>coffee &lt;-
  glm(coffee_town ~ age + job + smoke,
      data = coffee,
      family = binomial()) %&gt;%
  augment(type.predict = &quot;response&quot;,
          data = coffee)

coffee %&gt;%
  select(coffee_town, .fitted)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["coffee_town"],"name":[1],"type":["int"],"align":["right"]},{"label":[".fitted"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"0.29527704"},{"1":"0","2":"0.31291070"},{"1":"1","2":"0.29081872"},{"1":"0","2":"0.03682305"},{"1":"0","2":"0.31614615"},{"1":"1","2":"0.29114051"},{"1":"1","2":"0.31966921"},{"1":"1","2":"0.03382064"},{"1":"1","2":"0.32164931"},{"1":"0","2":"0.30219674"},{"1":"0","2":"0.03651958"},{"1":"1","2":"0.31748971"},{"1":"1","2":"0.29538866"},{"1":"1","2":"0.26244629"},{"1":"0","2":"0.03514472"},{"1":"0","2":"0.30787710"},{"1":"1","2":"0.30850760"},{"1":"1","2":"0.03451839"},{"1":"0","2":"0.03410043"},{"1":"0","2":"0.32205620"},{"1":"0","2":"0.03443325"},{"1":"0","2":"0.03396823"},{"1":"0","2":"0.31050303"},{"1":"0","2":"0.26695867"},{"1":"0","2":"0.32263881"},{"1":"0","2":"0.30763172"},{"1":"1","2":"0.30545202"},{"1":"1","2":"0.27752862"},{"1":"1","2":"0.29846189"},{"1":"1","2":"0.31811645"},{"1":"1","2":"0.03044747"},{"1":"1","2":"0.30661022"},{"1":"0","2":"0.31744130"},{"1":"1","2":"0.30768265"},{"1":"0","2":"0.27946550"},{"1":"0","2":"0.29982414"},{"1":"1","2":"0.30027151"},{"1":"0","2":"0.30756194"},{"1":"0","2":"0.03505794"},{"1":"0","2":"0.02868996"},{"1":"1","2":"0.30526155"},{"1":"0","2":"0.30332666"},{"1":"0","2":"0.03368186"},{"1":"0","2":"0.32122030"},{"1":"1","2":"0.29394500"},{"1":"1","2":"0.29354503"},{"1":"1","2":"0.31692681"},{"1":"0","2":"0.03392234"},{"1":"1","2":"0.30640119"},{"1":"1","2":"0.02903001"},{"1":"0","2":"0.31767394"},{"1":"0","2":"0.29558600"},{"1":"0","2":"0.31640449"},{"1":"1","2":"0.28462569"},{"1":"0","2":"0.03623554"},{"1":"0","2":"0.03825440"},{"1":"0","2":"0.30085696"},{"1":"1","2":"0.28641443"},{"1":"1","2":"0.32151325"},{"1":"0","2":"0.30590491"},{"1":"0","2":"0.03377968"},{"1":"1","2":"0.30800194"},{"1":"1","2":"0.03365768"},{"1":"1","2":"0.30947837"},{"1":"1","2":"0.29278227"},{"1":"1","2":"0.31302460"},{"1":"1","2":"0.27068745"},{"1":"0","2":"0.03077374"},{"1":"1","2":"0.31223888"},{"1":"0","2":"0.35849146"},{"1":"1","2":"0.31940257"},{"1":"1","2":"0.29349273"},{"1":"0","2":"0.32243425"},{"1":"1","2":"0.28873378"},{"1":"1","2":"0.28202963"},{"1":"0","2":"0.31530016"},{"1":"1","2":"0.29921333"},{"1":"0","2":"0.30888733"},{"1":"1","2":"0.31049811"},{"1":"0","2":"0.29606833"},{"1":"1","2":"0.29651563"},{"1":"0","2":"0.30590220"},{"1":"0","2":"0.03533064"},{"1":"1","2":"0.27644045"},{"1":"1","2":"0.32205721"},{"1":"0","2":"0.31622273"},{"1":"0","2":"0.02956246"},{"1":"1","2":"0.30222287"},{"1":"0","2":"0.31704792"},{"1":"0","2":"0.31475964"},{"1":"1","2":"0.29707711"},{"1":"0","2":"0.03543522"},{"1":"0","2":"0.03526868"},{"1":"0","2":"0.03369275"},{"1":"0","2":"0.03679224"},{"1":"1","2":"0.32126120"},{"1":"1","2":"0.28155159"},{"1":"0","2":"0.29641700"},{"1":"0","2":"0.28263460"},{"1":"1","2":"0.29856421"},{"1":"0","2":"0.01779970"},{"1":"0","2":"0.06295527"},{"1":"0","2":"0.06157018"},{"1":"0","2":"0.07557271"},{"1":"0","2":"0.05500985"},{"1":"1","2":"0.10220583"},{"1":"0","2":"0.05407380"},{"1":"0","2":"0.07435144"},{"1":"0","2":"0.07888860"},{"1":"0","2":"0.05543397"},{"1":"0","2":"0.06492420"},{"1":"0","2":"0.06713309"},{"1":"0","2":"0.09605184"},{"1":"0","2":"0.04136097"},{"1":"0","2":"0.07048473"},{"1":"0","2":"0.06802559"},{"1":"0","2":"0.06898164"},{"1":"0","2":"0.06952382"},{"1":"0","2":"0.08054910"},{"1":"0","2":"0.07089091"},{"1":"0","2":"0.01821597"},{"1":"0","2":"0.05189144"},{"1":"0","2":"0.05991040"},{"1":"0","2":"0.07086075"},{"1":"0","2":"0.07194351"},{"1":"0","2":"0.08394190"},{"1":"0","2":"0.04633459"},{"1":"0","2":"0.07280769"},{"1":"0","2":"0.06435288"},{"1":"0","2":"0.05865176"},{"1":"0","2":"0.07417783"},{"1":"0","2":"0.01791327"},{"1":"0","2":"0.06916353"},{"1":"0","2":"0.05473168"},{"1":"0","2":"0.04991601"},{"1":"0","2":"0.04630393"},{"1":"0","2":"0.06923336"},{"1":"0","2":"0.06627950"},{"1":"0","2":"0.06472015"},{"1":"0","2":"0.07254057"},{"1":"0","2":"0.05066620"},{"1":"0","2":"0.05912319"},{"1":"0","2":"0.05319208"},{"1":"0","2":"0.49770630"},{"1":"0","2":"0.01610197"},{"1":"0","2":"0.05398951"},{"1":"1","2":"0.09283427"},{"1":"0","2":"0.04716868"},{"1":"0","2":"0.04863074"},{"1":"0","2":"0.04536667"},{"1":"0","2":"0.06809416"},{"1":"0","2":"0.06222277"},{"1":"0","2":"0.01892042"},{"1":"0","2":"0.03315345"},{"1":"0","2":"0.04675112"},{"1":"0","2":"0.05964589"},{"1":"0","2":"0.08860194"},{"1":"0","2":"0.05536732"},{"1":"0","2":"0.05617544"},{"1":"0","2":"0.10414788"},{"1":"0","2":"0.23636800"},{"1":"0","2":"0.07006439"},{"1":"0","2":"0.08957802"},{"1":"0","2":"0.08673235"},{"1":"0","2":"0.06513053"},{"1":"1","2":"0.11079365"},{"1":"0","2":"0.06984511"},{"1":"0","2":"0.05573992"},{"1":"0","2":"0.06072889"},{"1":"0","2":"0.07628749"},{"1":"1","2":"0.63670728"},{"1":"0","2":"0.07482538"},{"1":"0","2":"0.05140467"},{"1":"0","2":"0.07226066"},{"1":"0","2":"0.06879676"},{"1":"0","2":"0.07284809"},{"1":"0","2":"0.56175078"},{"1":"1","2":"0.62555938"},{"1":"0","2":"0.08905766"},{"1":"0","2":"0.02572022"},{"1":"0","2":"0.01327245"},{"1":"0","2":"0.08833424"},{"1":"0","2":"0.07646729"},{"1":"0","2":"0.05527869"},{"1":"0","2":"0.08095898"},{"1":"0","2":"0.06056062"},{"1":"0","2":"0.08259397"},{"1":"0","2":"0.01728302"},{"1":"0","2":"0.06753928"},{"1":"0","2":"0.06138986"},{"1":"0","2":"0.07089398"},{"1":"0","2":"0.07915555"},{"1":"0","2":"0.06373510"},{"1":"0","2":"0.08582317"},{"1":"0","2":"0.05813055"},{"1":"0","2":"0.05996067"},{"1":"0","2":"0.09621052"},{"1":"0","2":"0.06033448"},{"1":"0","2":"0.07930510"},{"1":"0","2":"0.06817880"},{"1":"0","2":"0.07926645"},{"1":"0","2":"0.10073478"},{"1":"0","2":"0.60172678"},{"1":"0","2":"0.05857640"},{"1":"0","2":"0.04711897"},{"1":"1","2":"0.11684344"},{"1":"0","2":"0.08322321"},{"1":"0","2":"0.06929388"},{"1":"0","2":"0.06228476"},{"1":"0","2":"0.08079204"},{"1":"0","2":"0.06049485"},{"1":"0","2":"0.06771008"},{"1":"0","2":"0.06792862"},{"1":"0","2":"0.05633077"},{"1":"0","2":"0.08839959"},{"1":"0","2":"0.09762582"},{"1":"0","2":"0.05882844"},{"1":"0","2":"0.01566023"},{"1":"0","2":"0.07064506"},{"1":"0","2":"0.07270947"},{"1":"0","2":"0.05248928"},{"1":"0","2":"0.07336199"},{"1":"0","2":"0.05527018"},{"1":"0","2":"0.06870496"},{"1":"0","2":"0.05871358"},{"1":"1","2":"0.10288479"},{"1":"0","2":"0.06883458"},{"1":"0","2":"0.03423594"},{"1":"0","2":"0.06486412"},{"1":"0","2":"0.07709814"},{"1":"0","2":"0.05157235"},{"1":"0","2":"0.02650080"},{"1":"0","2":"0.05516089"},{"1":"0","2":"0.08171982"},{"1":"0","2":"0.07250145"},{"1":"0","2":"0.06127365"},{"1":"0","2":"0.06955301"},{"1":"0","2":"0.05837464"},{"1":"0","2":"0.09022270"},{"1":"0","2":"0.06238163"},{"1":"0","2":"0.08385720"},{"1":"0","2":"0.08916982"},{"1":"0","2":"0.53299872"},{"1":"0","2":"0.06195429"},{"1":"0","2":"0.09134684"},{"1":"0","2":"0.04226815"},{"1":"0","2":"0.06606956"},{"1":"0","2":"0.05943596"},{"1":"0","2":"0.07104298"},{"1":"0","2":"0.08894207"},{"1":"0","2":"0.07525984"},{"1":"0","2":"0.06753459"},{"1":"0","2":"0.07236416"},{"1":"0","2":"0.05952813"},{"1":"0","2":"0.08367149"},{"1":"0","2":"0.09106140"},{"1":"0","2":"0.39932769"},{"1":"0","2":"0.06971189"},{"1":"0","2":"0.07874725"},{"1":"0","2":"0.06760337"},{"1":"0","2":"0.08779087"},{"1":"0","2":"0.06807219"},{"1":"0","2":"0.05910715"},{"1":"0","2":"0.08626065"},{"1":"1","2":"0.10130948"},{"1":"0","2":"0.07719892"},{"1":"0","2":"0.06764338"},{"1":"0","2":"0.04956434"},{"1":"0","2":"0.06883589"},{"1":"0","2":"0.06122740"},{"1":"0","2":"0.05939845"},{"1":"0","2":"0.07904115"},{"1":"0","2":"0.06227615"},{"1":"1","2":"0.12009898"},{"1":"0","2":"0.07554372"},{"1":"0","2":"0.09078892"},{"1":"0","2":"0.04708306"},{"1":"0","2":"0.08439132"},{"1":"0","2":"0.05692392"},{"1":"0","2":"0.08727796"},{"1":"0","2":"0.07909735"},{"1":"0","2":"0.06783381"},{"1":"0","2":"0.58872262"},{"1":"0","2":"0.06411083"},{"1":"0","2":"0.06561617"},{"1":"0","2":"0.06050707"},{"1":"0","2":"0.01762851"},{"1":"0","2":"0.08769488"},{"1":"0","2":"0.07963215"},{"1":"0","2":"0.08868722"},{"1":"0","2":"0.04353998"},{"1":"0","2":"0.05060167"},{"1":"0","2":"0.06545284"},{"1":"0","2":"0.05572083"},{"1":"1","2":"0.02883158"},{"1":"0","2":"0.52843611"},{"1":"0","2":"0.08478323"},{"1":"0","2":"0.07499068"},{"1":"0","2":"0.07262827"},{"1":"0","2":"0.06916923"},{"1":"0","2":"0.08685060"},{"1":"0","2":"0.05996863"},{"1":"1","2":"0.09084650"},{"1":"0","2":"0.06814539"},{"1":"1","2":"0.60505336"},{"1":"0","2":"0.09748936"},{"1":"0","2":"0.01732258"},{"1":"0","2":"0.08166909"},{"1":"0","2":"0.06023305"},{"1":"0","2":"0.07797869"},{"1":"0","2":"0.05761942"},{"1":"0","2":"0.07472965"},{"1":"0","2":"0.06722990"},{"1":"0","2":"0.48781910"},{"1":"0","2":"0.02002871"},{"1":"0","2":"0.08975737"},{"1":"0","2":"0.06684591"},{"1":"0","2":"0.51532105"},{"1":"0","2":"0.05716859"},{"1":"0","2":"0.06867259"},{"1":"0","2":"0.09385256"},{"1":"0","2":"0.02725386"},{"1":"0","2":"0.08557053"},{"1":"0","2":"0.05110914"},{"1":"0","2":"0.08036401"},{"1":"0","2":"0.07997112"},{"1":"0","2":"0.06854147"},{"1":"0","2":"0.01763182"},{"1":"0","2":"0.06212996"},{"1":"0","2":"0.07114640"},{"1":"0","2":"0.01888595"},{"1":"0","2":"0.03448466"},{"1":"0","2":"0.06835712"},{"1":"0","2":"0.09484652"},{"1":"0","2":"0.06879306"},{"1":"0","2":"0.01975166"},{"1":"0","2":"0.08771794"},{"1":"0","2":"0.06249899"},{"1":"0","2":"0.05833388"},{"1":"0","2":"0.06626147"},{"1":"0","2":"0.07197153"},{"1":"0","2":"0.05978146"},{"1":"0","2":"0.06547860"},{"1":"0","2":"0.06938569"},{"1":"0","2":"0.40616808"},{"1":"0","2":"0.05590959"},{"1":"0","2":"0.08721595"},{"1":"0","2":"0.07070211"},{"1":"0","2":"0.44492390"},{"1":"1","2":"0.10449750"},{"1":"1","2":"0.08273899"},{"1":"0","2":"0.08338352"},{"1":"0","2":"0.07882548"},{"1":"0","2":"0.06016331"},{"1":"1","2":"0.02769838"},{"1":"0","2":"0.07002606"},{"1":"0","2":"0.05852051"},{"1":"0","2":"0.07118541"},{"1":"0","2":"0.05062118"},{"1":"0","2":"0.01939523"},{"1":"0","2":"0.04436171"},{"1":"0","2":"0.09395937"},{"1":"0","2":"0.05521388"},{"1":"0","2":"0.06754230"},{"1":"0","2":"0.51283800"},{"1":"0","2":"0.07024055"},{"1":"0","2":"0.24590214"},{"1":"0","2":"0.08168037"},{"1":"0","2":"0.06571808"},{"1":"0","2":"0.05640647"},{"1":"0","2":"0.06807891"},{"1":"0","2":"0.07731420"},{"1":"0","2":"0.03997721"},{"1":"0","2":"0.04637756"},{"1":"0","2":"0.04977268"},{"1":"0","2":"0.52111074"},{"1":"0","2":"0.06401640"},{"1":"0","2":"0.51404304"},{"1":"0","2":"0.07107300"},{"1":"0","2":"0.10213533"},{"1":"0","2":"0.04632014"},{"1":"0","2":"0.05838184"},{"1":"0","2":"0.06142429"},{"1":"0","2":"0.04854637"},{"1":"0","2":"0.09120792"},{"1":"0","2":"0.07254577"},{"1":"0","2":"0.04120500"},{"1":"0","2":"0.02162574"},{"1":"0","2":"0.42414808"},{"1":"0","2":"0.06276684"},{"1":"0","2":"0.09413472"},{"1":"0","2":"0.08241937"},{"1":"0","2":"0.09013646"},{"1":"0","2":"0.07773639"},{"1":"0","2":"0.07180669"},{"1":"0","2":"0.06141117"},{"1":"0","2":"0.09896019"},{"1":"0","2":"0.07396403"},{"1":"0","2":"0.06393947"},{"1":"0","2":"0.08638745"},{"1":"0","2":"0.08984616"},{"1":"1","2":"0.10465511"},{"1":"0","2":"0.03537484"},{"1":"0","2":"0.06805091"},{"1":"0","2":"0.06772079"},{"1":"0","2":"0.06824966"},{"1":"0","2":"0.06836787"},{"1":"0","2":"0.06930365"},{"1":"0","2":"0.08223970"},{"1":"0","2":"0.06415644"},{"1":"0","2":"0.06808615"},{"1":"0","2":"0.07078427"},{"1":"0","2":"0.09069665"},{"1":"0","2":"0.06324130"},{"1":"0","2":"0.06653711"},{"1":"0","2":"0.08099876"},{"1":"0","2":"0.08889690"},{"1":"0","2":"0.06989676"},{"1":"0","2":"0.05568040"},{"1":"0","2":"0.10111282"},{"1":"0","2":"0.09610165"},{"1":"0","2":"0.06399809"},{"1":"0","2":"0.06166671"},{"1":"0","2":"0.05222130"},{"1":"0","2":"0.08170771"},{"1":"0","2":"0.09931730"},{"1":"0","2":"0.05347978"},{"1":"0","2":"0.06315045"},{"1":"0","2":"0.06485627"},{"1":"0","2":"0.06435943"},{"1":"0","2":"0.04950204"},{"1":"0","2":"0.06876016"},{"1":"0","2":"0.05458916"},{"1":"0","2":"0.02007288"},{"1":"0","2":"0.06998253"},{"1":"0","2":"0.07060866"},{"1":"0","2":"0.08682343"},{"1":"0","2":"0.07297342"},{"1":"0","2":"0.05508396"},{"1":"0","2":"0.07070072"},{"1":"0","2":"0.06749237"},{"1":"1","2":"0.10230640"},{"1":"0","2":"0.06222637"},{"1":"0","2":"0.08618616"},{"1":"0","2":"0.07625306"},{"1":"0","2":"0.13249071"},{"1":"0","2":"0.05637559"},{"1":"0","2":"0.06761849"},{"1":"0","2":"0.07671292"},{"1":"0","2":"0.04659071"},{"1":"0","2":"0.08796708"},{"1":"0","2":"0.06531642"},{"1":"0","2":"0.05396789"},{"1":"0","2":"0.05433683"},{"1":"0","2":"0.05542238"},{"1":"0","2":"0.07412374"},{"1":"0","2":"0.08078075"},{"1":"0","2":"0.04888037"},{"1":"0","2":"0.03856995"},{"1":"0","2":"0.08118507"},{"1":"0","2":"0.06724410"},{"1":"1","2":"0.07150930"},{"1":"0","2":"0.09277054"},{"1":"0","2":"0.08210653"},{"1":"0","2":"0.04705312"},{"1":"0","2":"0.06589722"},{"1":"0","2":"0.06405314"},{"1":"0","2":"0.07045315"},{"1":"0","2":"0.09691159"},{"1":"0","2":"0.57667373"},{"1":"0","2":"0.06274174"},{"1":"0","2":"0.04556070"},{"1":"0","2":"0.07181359"},{"1":"0","2":"0.07974060"},{"1":"0","2":"0.08084010"},{"1":"0","2":"0.05689781"},{"1":"0","2":"0.07859305"},{"1":"0","2":"0.02114626"},{"1":"0","2":"0.09187751"},{"1":"0","2":"0.07294288"},{"1":"0","2":"0.06849027"},{"1":"0","2":"0.05882465"},{"1":"0","2":"0.06641791"},{"1":"0","2":"0.06842696"},{"1":"1","2":"0.11375596"},{"1":"1","2":"0.09925186"},{"1":"0","2":"0.06046764"},{"1":"0","2":"0.06001076"},{"1":"0","2":"0.04249555"},{"1":"0","2":"0.05198642"},{"1":"0","2":"0.05052826"},{"1":"1","2":"0.11239617"},{"1":"0","2":"0.06187171"},{"1":"0","2":"0.07490096"},{"1":"1","2":"0.14772221"},{"1":"0","2":"0.05034756"},{"1":"0","2":"0.07775058"},{"1":"0","2":"0.01613142"},{"1":"0","2":"0.07834411"},{"1":"0","2":"0.03352545"},{"1":"0","2":"0.07442043"},{"1":"0","2":"0.06928785"},{"1":"0","2":"0.04962128"},{"1":"0","2":"0.07349023"},{"1":"0","2":"0.08846200"},{"1":"1","2":"0.09897952"},{"1":"0","2":"0.05630339"},{"1":"0","2":"0.01619536"},{"1":"0","2":"0.09128640"},{"1":"0","2":"0.05919703"},{"1":"0","2":"0.04492182"},{"1":"0","2":"0.06127386"},{"1":"0","2":"0.06090402"},{"1":"0","2":"0.07399896"},{"1":"0","2":"0.06788316"},{"1":"0","2":"0.07663560"},{"1":"0","2":"0.06764094"},{"1":"0","2":"0.54070543"},{"1":"0","2":"0.06837606"},{"1":"0","2":"0.05927811"},{"1":"0","2":"0.06366663"},{"1":"0","2":"0.06604057"},{"1":"0","2":"0.06188088"},{"1":"0","2":"0.07629428"},{"1":"0","2":"0.07266757"},{"1":"0","2":"0.04497693"},{"1":"0","2":"0.07134087"},{"1":"0","2":"0.09164186"},{"1":"0","2":"0.55636200"},{"1":"0","2":"0.04834628"},{"1":"0","2":"0.05830843"},{"1":"0","2":"0.09145388"},{"1":"0","2":"0.07444735"},{"1":"0","2":"0.06726040"},{"1":"0","2":"0.09986497"},{"1":"0","2":"0.06327201"},{"1":"0","2":"0.07768855"},{"1":"0","2":"0.09339571"},{"1":"0","2":"0.08221087"},{"1":"0","2":"0.04425761"},{"1":"0","2":"0.06769227"},{"1":"0","2":"0.06686349"},{"1":"0","2":"0.08084360"},{"1":"0","2":"0.07359278"},{"1":"1","2":"0.08034391"},{"1":"0","2":"0.07241698"},{"1":"0","2":"0.01478223"},{"1":"0","2":"0.08120893"},{"1":"0","2":"0.04062028"},{"1":"0","2":"0.07900513"},{"1":"0","2":"0.08059136"},{"1":"0","2":"0.05979120"},{"1":"0","2":"0.05026662"},{"1":"0","2":"0.06799707"},{"1":"1","2":"0.09817253"},{"1":"0","2":"0.06359078"},{"1":"0","2":"0.03959112"},{"1":"0","2":"0.08553097"},{"1":"0","2":"0.06662375"},{"1":"0","2":"0.06650133"},{"1":"0","2":"0.05804857"},{"1":"0","2":"0.07301737"},{"1":"0","2":"0.08376128"},{"1":"0","2":"0.04187980"},{"1":"0","2":"0.06528750"},{"1":"0","2":"0.07703555"},{"1":"0","2":"0.06994567"},{"1":"0","2":"0.07112748"},{"1":"0","2":"0.06504870"},{"1":"0","2":"0.08696099"},{"1":"0","2":"0.06058758"},{"1":"0","2":"0.08612841"},{"1":"0","2":"0.08542572"},{"1":"0","2":"0.06705638"},{"1":"0","2":"0.05547692"},{"1":"0","2":"0.08838188"},{"1":"0","2":"0.06975034"},{"1":"1","2":"0.10717222"},{"1":"0","2":"0.05019330"},{"1":"0","2":"0.04979936"},{"1":"0","2":"0.05626178"},{"1":"0","2":"0.07571156"},{"1":"1","2":"0.09880829"},{"1":"1","2":"0.08598110"},{"1":"0","2":"0.08045936"},{"1":"0","2":"0.07390657"},{"1":"0","2":"0.06072331"},{"1":"0","2":"0.08016566"},{"1":"0","2":"0.07876981"},{"1":"0","2":"0.06337638"},{"1":"0","2":"0.06933528"},{"1":"0","2":"0.51461020"},{"1":"1","2":"0.09536734"},{"1":"0","2":"0.06008832"},{"1":"0","2":"0.04132732"},{"1":"0","2":"0.08482601"},{"1":"0","2":"0.06270646"},{"1":"0","2":"0.05739406"},{"1":"0","2":"0.07427402"},{"1":"0","2":"0.06335140"},{"1":"0","2":"0.05846123"},{"1":"1","2":"0.09731230"},{"1":"0","2":"0.08107058"},{"1":"0","2":"0.08128366"},{"1":"0","2":"0.07144391"},{"1":"0","2":"0.46314304"},{"1":"0","2":"0.05496386"},{"1":"0","2":"0.07026927"},{"1":"1","2":"0.10671781"},{"1":"0","2":"0.07649314"},{"1":"0","2":"0.07566396"},{"1":"0","2":"0.07812109"},{"1":"0","2":"0.04358208"},{"1":"0","2":"0.44976754"},{"1":"1","2":"0.12067800"},{"1":"0","2":"0.06762389"},{"1":"0","2":"0.01899492"},{"1":"0","2":"0.05188753"},{"1":"0","2":"0.01918988"},{"1":"0","2":"0.06994842"},{"1":"0","2":"0.05943781"},{"1":"0","2":"0.05194226"},{"1":"1","2":"0.10253436"},{"1":"1","2":"0.10213598"},{"1":"0","2":"0.08357767"},{"1":"0","2":"0.05935172"},{"1":"0","2":"0.08397107"},{"1":"0","2":"0.50887112"},{"1":"0","2":"0.06898437"},{"1":"0","2":"0.09481490"},{"1":"0","2":"0.05790789"},{"1":"0","2":"0.01819662"},{"1":"0","2":"0.06374190"},{"1":"0","2":"0.07360884"},{"1":"0","2":"0.04597418"},{"1":"0","2":"0.06408489"},{"1":"0","2":"0.07164708"},{"1":"0","2":"0.54535678"},{"1":"0","2":"0.01398432"},{"1":"0","2":"0.08154567"},{"1":"0","2":"0.03880898"},{"1":"0","2":"0.06871133"},{"1":"0","2":"0.08394771"},{"1":"0","2":"0.06463373"},{"1":"0","2":"0.51966798"},{"1":"0","2":"0.05393987"},{"1":"0","2":"0.56479555"},{"1":"0","2":"0.05130308"},{"1":"0","2":"0.05865880"},{"1":"0","2":"0.06984216"},{"1":"0","2":"0.07418858"},{"1":"0","2":"0.05323085"},{"1":"1","2":"0.06705739"},{"1":"0","2":"0.05568123"},{"1":"0","2":"0.07696591"},{"1":"0","2":"0.04142773"},{"1":"0","2":"0.07336596"},{"1":"0","2":"0.02235505"},{"1":"0","2":"0.05953602"},{"1":"0","2":"0.08381805"},{"1":"0","2":"0.07809668"},{"1":"0","2":"0.08820891"},{"1":"0","2":"0.05302540"},{"1":"0","2":"0.06086472"},{"1":"0","2":"0.43086716"},{"1":"0","2":"0.06894891"},{"1":"0","2":"0.04813337"},{"1":"0","2":"0.08355491"},{"1":"0","2":"0.06331021"},{"1":"1","2":"0.11046265"},{"1":"0","2":"0.05870067"},{"1":"0","2":"0.07828905"},{"1":"0","2":"0.49442263"},{"1":"0","2":"0.05539294"},{"1":"0","2":"0.05258077"},{"1":"0","2":"0.05564379"},{"1":"0","2":"0.05087875"},{"1":"0","2":"0.06371836"},{"1":"0","2":"0.04155610"},{"1":"0","2":"0.06053224"},{"1":"0","2":"0.08990355"},{"1":"0","2":"0.05823325"},{"1":"0","2":"0.07641953"},{"1":"0","2":"0.07535821"},{"1":"0","2":"0.05975495"},{"1":"0","2":"0.06755986"},{"1":"0","2":"0.06466929"},{"1":"0","2":"0.08792908"},{"1":"1","2":"0.09828594"},{"1":"0","2":"0.06004409"},{"1":"0","2":"0.08745463"},{"1":"0","2":"0.06154325"},{"1":"0","2":"0.04254363"},{"1":"0","2":"0.06343915"},{"1":"0","2":"0.08004705"},{"1":"0","2":"0.07538717"},{"1":"0","2":"0.04568888"},{"1":"0","2":"0.06981310"},{"1":"0","2":"0.08303480"},{"1":"0","2":"0.50588623"},{"1":"0","2":"0.06403264"},{"1":"0","2":"0.10612790"},{"1":"0","2":"0.07208366"},{"1":"0","2":"0.07313642"},{"1":"0","2":"0.01607742"},{"1":"0","2":"0.05661668"},{"1":"0","2":"0.05468101"},{"1":"0","2":"0.06764618"},{"1":"0","2":"0.09478453"},{"1":"1","2":"0.10195137"},{"1":"0","2":"0.09851069"},{"1":"0","2":"0.09365770"},{"1":"0","2":"0.07007848"},{"1":"0","2":"0.05794980"},{"1":"0","2":"0.05861153"},{"1":"0","2":"0.39886610"},{"1":"0","2":"0.06906361"},{"1":"1","2":"0.10019562"},{"1":"0","2":"0.06404226"},{"1":"0","2":"0.09020770"},{"1":"0","2":"0.08047526"},{"1":"0","2":"0.06315847"},{"1":"1","2":"0.10175870"},{"1":"0","2":"0.06150831"},{"1":"0","2":"0.06080624"},{"1":"0","2":"0.06330264"},{"1":"0","2":"0.05472949"},{"1":"0","2":"0.08636400"},{"1":"0","2":"0.08066164"},{"1":"0","2":"0.06852333"},{"1":"0","2":"0.20413187"},{"1":"0","2":"0.04792491"},{"1":"0","2":"0.05979360"},{"1":"0","2":"0.06070917"},{"1":"0","2":"0.06775625"},{"1":"0","2":"0.06726634"},{"1":"0","2":"0.08736456"},{"1":"0","2":"0.07060291"},{"1":"0","2":"0.02565298"},{"1":"0","2":"0.08056977"},{"1":"0","2":"0.04749067"},{"1":"0","2":"0.45299716"},{"1":"0","2":"0.09341379"},{"1":"0","2":"0.08359651"},{"1":"0","2":"0.06090610"},{"1":"0","2":"0.03604756"},{"1":"0","2":"0.08916243"},{"1":"0","2":"0.05335247"},{"1":"1","2":"0.05673617"},{"1":"0","2":"0.10228619"},{"1":"0","2":"0.05541379"},{"1":"0","2":"0.06235072"},{"1":"0","2":"0.45732892"},{"1":"0","2":"0.08322670"},{"1":"0","2":"0.05720598"},{"1":"0","2":"0.04948541"},{"1":"1","2":"0.10710342"},{"1":"0","2":"0.08870076"},{"1":"0","2":"0.08560951"},{"1":"0","2":"0.06457217"},{"1":"0","2":"0.07317459"},{"1":"0","2":"0.08248226"},{"1":"0","2":"0.05731185"},{"1":"0","2":"0.07161352"},{"1":"0","2":"0.07582773"},{"1":"1","2":"0.08622210"},{"1":"0","2":"0.08283262"},{"1":"0","2":"0.09340435"},{"1":"0","2":"0.01752542"},{"1":"0","2":"0.05921674"},{"1":"0","2":"0.06872197"},{"1":"0","2":"0.03383512"},{"1":"0","2":"0.04785508"},{"1":"0","2":"0.08185237"},{"1":"0","2":"0.07245999"},{"1":"0","2":"0.05162193"},{"1":"0","2":"0.09006024"},{"1":"0","2":"0.07530431"},{"1":"0","2":"0.06811090"},{"1":"0","2":"0.09067651"},{"1":"0","2":"0.06339098"},{"1":"0","2":"0.09110792"},{"1":"0","2":"0.06238896"},{"1":"0","2":"0.06733074"},{"1":"0","2":"0.08681313"},{"1":"0","2":"0.03612296"},{"1":"0","2":"0.06741749"},{"1":"0","2":"0.07178711"},{"1":"0","2":"0.07109900"},{"1":"0","2":"0.05359386"},{"1":"0","2":"0.04621271"},{"1":"0","2":"0.09516230"},{"1":"0","2":"0.07572323"},{"1":"0","2":"0.08570729"},{"1":"0","2":"0.39366302"},{"1":"0","2":"0.03837942"},{"1":"0","2":"0.07317955"},{"1":"0","2":"0.05794035"},{"1":"0","2":"0.04432872"},{"1":"0","2":"0.09145207"},{"1":"0","2":"0.01366729"},{"1":"0","2":"0.03276664"},{"1":"0","2":"0.08852309"},{"1":"0","2":"0.07316649"},{"1":"0","2":"0.05560065"},{"1":"0","2":"0.01643199"},{"1":"0","2":"0.06759412"},{"1":"0","2":"0.08854596"},{"1":"0","2":"0.08417946"},{"1":"0","2":"0.43313417"},{"1":"0","2":"0.07842950"},{"1":"0","2":"0.08416602"},{"1":"0","2":"0.07099738"},{"1":"0","2":"0.03887291"},{"1":"0","2":"0.05967006"},{"1":"1","2":"0.10628536"},{"1":"0","2":"0.08528263"},{"1":"0","2":"0.05273484"},{"1":"0","2":"0.05320559"},{"1":"0","2":"0.06863044"},{"1":"0","2":"0.01947839"},{"1":"0","2":"0.08796038"},{"1":"0","2":"0.07754810"},{"1":"0","2":"0.07447284"},{"1":"0","2":"0.07594201"},{"1":"0","2":"0.07569105"},{"1":"0","2":"0.05744138"},{"1":"1","2":"0.11373396"},{"1":"0","2":"0.05587533"},{"1":"0","2":"0.07309536"},{"1":"0","2":"0.06607554"},{"1":"1","2":"0.10282726"},{"1":"0","2":"0.08879173"},{"1":"0","2":"0.06582967"},{"1":"0","2":"0.06496688"},{"1":"0","2":"0.09138950"},{"1":"1","2":"0.11140775"},{"1":"0","2":"0.02144113"},{"1":"0","2":"0.46796714"},{"1":"0","2":"0.06071244"},{"1":"1","2":"0.10679628"},{"1":"0","2":"0.04914230"},{"1":"1","2":"0.12922430"},{"1":"0","2":"0.04465682"},{"1":"0","2":"0.49817631"},{"1":"0","2":"0.07556598"},{"1":"0","2":"0.08750089"},{"1":"0","2":"0.07768070"},{"1":"0","2":"0.05025419"},{"1":"0","2":"0.06684296"},{"1":"0","2":"0.02209019"},{"1":"1","2":"0.08310531"},{"1":"0","2":"0.06015306"},{"1":"0","2":"0.04633273"},{"1":"0","2":"0.06892109"},{"1":"0","2":"0.06117456"},{"1":"0","2":"0.06331717"},{"1":"0","2":"0.06106262"},{"1":"0","2":"0.20717130"},{"1":"0","2":"0.06909770"},{"1":"0","2":"0.08527137"},{"1":"0","2":"0.07543854"},{"1":"0","2":"0.05353196"},{"1":"0","2":"0.06912946"},{"1":"0","2":"0.07854925"},{"1":"0","2":"0.09545516"},{"1":"0","2":"0.06177392"},{"1":"0","2":"0.05284187"},{"1":"0","2":"0.06529804"},{"1":"0","2":"0.51541969"},{"1":"1","2":"0.10230416"},{"1":"0","2":"0.07828126"},{"1":"0","2":"0.06508285"},{"1":"0","2":"0.05735605"},{"1":"0","2":"0.49555789"},{"1":"0","2":"0.07597629"},{"1":"0","2":"0.07583748"},{"1":"0","2":"0.08721314"},{"1":"0","2":"0.06641608"},{"1":"0","2":"0.05817173"},{"1":"0","2":"0.06121815"},{"1":"0","2":"0.08271655"},{"1":"0","2":"0.07246320"},{"1":"0","2":"0.06468518"},{"1":"0","2":"0.09033870"},{"1":"1","2":"0.10191823"},{"1":"0","2":"0.06106218"},{"1":"1","2":"0.08543597"},{"1":"0","2":"0.06209763"},{"1":"0","2":"0.07714466"},{"1":"0","2":"0.07650283"},{"1":"0","2":"0.06955317"},{"1":"0","2":"0.06166443"},{"1":"0","2":"0.05496358"},{"1":"0","2":"0.08312068"},{"1":"0","2":"0.07314704"},{"1":"0","2":"0.06132622"},{"1":"0","2":"0.05956087"},{"1":"0","2":"0.04897174"},{"1":"0","2":"0.05639987"},{"1":"0","2":"0.05448726"},{"1":"0","2":"0.07609607"},{"1":"0","2":"0.07711640"},{"1":"0","2":"0.05914534"},{"1":"0","2":"0.04531595"},{"1":"0","2":"0.06013585"},{"1":"0","2":"0.02303750"},{"1":"0","2":"0.07672787"},{"1":"0","2":"0.07163810"},{"1":"0","2":"0.47329970"},{"1":"0","2":"0.07467668"},{"1":"0","2":"0.04292125"},{"1":"0","2":"0.33431538"},{"1":"0","2":"0.07549595"},{"1":"0","2":"0.10232816"},{"1":"0","2":"0.06477029"},{"1":"0","2":"0.07058676"},{"1":"0","2":"0.07128267"},{"1":"0","2":"0.07383919"},{"1":"1","2":"0.10558190"},{"1":"0","2":"0.08433112"},{"1":"1","2":"0.11315122"},{"1":"0","2":"0.05033091"},{"1":"0","2":"0.05897175"},{"1":"0","2":"0.07944585"},{"1":"0","2":"0.06140828"},{"1":"0","2":"0.06043704"},{"1":"0","2":"0.51180179"},{"1":"0","2":"0.08750956"},{"1":"0","2":"0.01826065"},{"1":"0","2":"0.08555954"},{"1":"0","2":"0.07442464"},{"1":"0","2":"0.51270775"},{"1":"0","2":"0.03904306"},{"1":"0","2":"0.08526839"},{"1":"1","2":"0.11004610"},{"1":"0","2":"0.06315302"},{"1":"0","2":"0.04798169"},{"1":"0","2":"0.06835581"},{"1":"0","2":"0.05209120"},{"1":"0","2":"0.07275207"},{"1":"0","2":"0.08336534"},{"1":"0","2":"0.08640715"},{"1":"0","2":"0.01786384"},{"1":"0","2":"0.03911066"},{"1":"0","2":"0.08554717"},{"1":"0","2":"0.09456221"},{"1":"1","2":"0.06190164"},{"1":"0","2":"0.06672181"},{"1":"0","2":"0.08024339"},{"1":"0","2":"0.09187298"},{"1":"0","2":"0.07172120"},{"1":"0","2":"0.06907566"},{"1":"0","2":"0.06507947"},{"1":"0","2":"0.07147427"},{"1":"0","2":"0.07572350"},{"1":"0","2":"0.08801721"},{"1":"0","2":"0.07925710"},{"1":"0","2":"0.01836197"},{"1":"0","2":"0.04754067"},{"1":"0","2":"0.06296209"},{"1":"0","2":"0.07305364"},{"1":"0","2":"0.03818608"},{"1":"1","2":"0.11089200"},{"1":"0","2":"0.05504798"},{"1":"0","2":"0.05866607"},{"1":"0","2":"0.09650759"},{"1":"0","2":"0.04800783"},{"1":"0","2":"0.04610679"},{"1":"0","2":"0.05842792"},{"1":"0","2":"0.06816849"},{"1":"0","2":"0.08659696"},{"1":"0","2":"0.06100738"},{"1":"0","2":"0.06405390"},{"1":"0","2":"0.04096305"},{"1":"0","2":"0.05182226"},{"1":"0","2":"0.07882885"},{"1":"0","2":"0.08071505"},{"1":"1","2":"0.10721582"},{"1":"0","2":"0.07424097"},{"1":"0","2":"0.08008508"},{"1":"0","2":"0.06335291"},{"1":"0","2":"0.06680920"},{"1":"0","2":"0.08451716"},{"1":"0","2":"0.05147731"},{"1":"0","2":"0.07516249"},{"1":"0","2":"0.05331419"},{"1":"0","2":"0.07277274"},{"1":"0","2":"0.08503612"},{"1":"0","2":"0.08337070"},{"1":"0","2":"0.06686289"},{"1":"0","2":"0.05485465"},{"1":"0","2":"0.01889419"},{"1":"0","2":"0.07634015"},{"1":"0","2":"0.07504297"},{"1":"0","2":"0.05877659"},{"1":"0","2":"0.06193082"},{"1":"0","2":"0.06768099"},{"1":"0","2":"0.05511235"},{"1":"0","2":"0.06415916"},{"1":"0","2":"0.09086976"},{"1":"0","2":"0.57810478"},{"1":"0","2":"0.01692091"},{"1":"0","2":"0.06503329"},{"1":"0","2":"0.07430844"},{"1":"0","2":"0.05321617"},{"1":"0","2":"0.08550835"},{"1":"0","2":"0.03220874"},{"1":"0","2":"0.05769642"},{"1":"0","2":"0.08857080"},{"1":"0","2":"0.05623889"},{"1":"0","2":"0.07036356"},{"1":"0","2":"0.05363982"},{"1":"0","2":"0.05545395"},{"1":"0","2":"0.06680926"},{"1":"0","2":"0.07092865"},{"1":"0","2":"0.06547988"},{"1":"0","2":"0.05672782"},{"1":"0","2":"0.05939127"},{"1":"1","2":"0.10739415"},{"1":"0","2":"0.05862655"},{"1":"0","2":"0.01991669"},{"1":"0","2":"0.08509361"},{"1":"0","2":"0.08474567"},{"1":"0","2":"0.07756256"},{"1":"0","2":"0.04895490"},{"1":"0","2":"0.03853073"},{"1":"0","2":"0.08455666"},{"1":"0","2":"0.05701116"},{"1":"0","2":"0.06911115"},{"1":"0","2":"0.05631903"},{"1":"0","2":"0.06795299"},{"1":"0","2":"0.06302882"},{"1":"0","2":"0.05973031"},{"1":"0","2":"0.08658190"},{"1":"0","2":"0.07993475"},{"1":"0","2":"0.01925017"},{"1":"0","2":"0.08646515"},{"1":"0","2":"0.08562786"},{"1":"0","2":"0.07324317"},{"1":"0","2":"0.02217955"},{"1":"0","2":"0.07731867"},{"1":"0","2":"0.06077865"},{"1":"0","2":"0.06138421"},{"1":"1","2":"0.10512099"},{"1":"0","2":"0.08664853"},{"1":"0","2":"0.05434148"},{"1":"0","2":"0.07542255"},{"1":"0","2":"0.08041510"},{"1":"0","2":"0.04107483"},{"1":"0","2":"0.07392159"},{"1":"0","2":"0.07651813"},{"1":"0","2":"0.05132494"},{"1":"1","2":"0.11481126"},{"1":"0","2":"0.08536561"},{"1":"0","2":"0.06989618"},{"1":"0","2":"0.09220309"},{"1":"0","2":"0.06503019"},{"1":"1","2":"0.10115093"},{"1":"0","2":"0.06800517"},{"1":"0","2":"0.04678516"},{"1":"0","2":"0.09484095"},{"1":"0","2":"0.09082327"},{"1":"0","2":"0.06321442"},{"1":"0","2":"0.44917585"},{"1":"0","2":"0.05146216"},{"1":"0","2":"0.06965837"},{"1":"0","2":"0.02767879"},{"1":"0","2":"0.06272694"},{"1":"0","2":"0.06444575"},{"1":"0","2":"0.08622999"},{"1":"0","2":"0.06266049"},{"1":"0","2":"0.06097344"},{"1":"0","2":"0.07697777"},{"1":"0","2":"0.10129635"},{"1":"0","2":"0.05184763"},{"1":"0","2":"0.05382423"},{"1":"0","2":"0.05135096"},{"1":"0","2":"0.08149204"},{"1":"0","2":"0.07249598"},{"1":"0","2":"0.01990898"},{"1":"0","2":"0.07138706"},{"1":"0","2":"0.07902190"},{"1":"0","2":"0.07652970"},{"1":"0","2":"0.07366203"},{"1":"0","2":"0.06508394"},{"1":"0","2":"0.07948999"},{"1":"0","2":"0.06785664"},{"1":"0","2":"0.07097706"},{"1":"0","2":"0.52998389"},{"1":"0","2":"0.02884942"},{"1":"0","2":"0.04585542"},{"1":"0","2":"0.06874813"},{"1":"0","2":"0.02013713"},{"1":"0","2":"0.07159919"},{"1":"0","2":"0.04151923"},{"1":"1","2":"0.60717790"},{"1":"0","2":"0.07655765"},{"1":"0","2":"0.06330831"},{"1":"0","2":"0.06720930"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code>df_plot &lt;- coffee %&gt;%
  pivot_wider(names_from = coffee_town,
              values_from = .fitted,
              names_prefix = &quot;coffee_town_p&quot;)

ggplot(df_plot) +
  geom_histogram(bins = 100,
                 aes(x = coffee_town_p1),
                 fill = &quot;cornflower blue&quot;) +
  geom_histogram(bins = 100,
                 aes(x = coffee_town_p0,
                 y = -stat(count)),
                 fill = &quot;orange&quot;) +
  scale_y_continuous(&quot;count&quot;,label = abs) +
  scale_x_continuous(&quot;propensity score&quot;) +
  geom_label(
    label = &quot;Live in coffee town&quot;,
    x = 0.2,
    y = 20
  ) +
  geom_label(
    label = &quot;Not live in coffee town&quot;,
    x = 0.2,
    y = -50
  )</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>From this mirrored histogram showing the distribution of propensity scores by exposure group, we find that population are not balanced between treatment and control group as there were more people in the control group. This corresponds to what we’ve seen in the unweighted Table 1.</p>
</div>
<div id="exercise-4" class="section level2">
<h2>Exercise 4</h2>
<p><em>Calculate an appropriate weight based on this question. Describe the causal estimand you will be estimating using this weight.</em></p>
<pre class="r"><code>coffee &lt;- coffee %&gt;%
  mutate(w_ato = (1 -.fitted) * coffee_town + .fitted * (1 - coffee_town))</code></pre>
<p>We choose to use ATO weight which estimate the effect of the treatment in the population of individuals who is possible to live in either town.</p>
</div>
<div id="exercise-5" class="section level2">
<h2>Exercise 5</h2>
<p><em>Create a weighted Table 1 using the weight in the previous exercise. Compare this to the Table 1 from Exercise 2.</em></p>
<pre class="r"><code>svy_des &lt;- svydesign(
  ids = ~1,
  data = coffee,
  weights = ~ w_ato
  )

svy_des %&gt;%
  tbl_svysummary(
    by = coffee_town,
    include = c(&quot;age&quot;,
                &quot;smoke&quot;,
                &quot;job&quot;)
    ) %&gt;%
  add_overall()</code></pre>
<div id="atasvzwyyg" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#atasvzwyyg .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#atasvzwyyg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#atasvzwyyg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#atasvzwyyg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#atasvzwyyg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#atasvzwyyg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#atasvzwyyg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#atasvzwyyg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#atasvzwyyg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#atasvzwyyg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#atasvzwyyg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#atasvzwyyg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#atasvzwyyg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#atasvzwyyg .gt_from_md > :first-child {
  margin-top: 0;
}

#atasvzwyyg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#atasvzwyyg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#atasvzwyyg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#atasvzwyyg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#atasvzwyyg .gt_row_group_first td {
  border-top-width: 2px;
}

#atasvzwyyg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#atasvzwyyg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#atasvzwyyg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#atasvzwyyg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#atasvzwyyg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#atasvzwyyg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#atasvzwyyg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#atasvzwyyg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#atasvzwyyg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#atasvzwyyg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#atasvzwyyg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#atasvzwyyg .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#atasvzwyyg .gt_left {
  text-align: left;
}

#atasvzwyyg .gt_center {
  text-align: center;
}

#atasvzwyyg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#atasvzwyyg .gt_font_normal {
  font-weight: normal;
}

#atasvzwyyg .gt_font_bold {
  font-weight: bold;
}

#atasvzwyyg .gt_font_italic {
  font-style: italic;
}

#atasvzwyyg .gt_super {
  font-size: 65%;
}

#atasvzwyyg .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#atasvzwyyg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#atasvzwyyg .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#atasvzwyyg .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#atasvzwyyg .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Overall</strong>, N = 182<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>0</strong>, N = 91<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>1</strong>, N = 91<sup class="gt_footnote_marks">1</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">age</td>
<td class="gt_row gt_center">41 (20, 50)</td>
<td class="gt_row gt_center">39 (34, 43)</td>
<td class="gt_row gt_center">50 (14, 52)</td></tr>
    <tr><td class="gt_row gt_left">smoke</td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">current</td>
<td class="gt_row gt_center">4 (2.1%)</td>
<td class="gt_row gt_center">2 (2.1%)</td>
<td class="gt_row gt_center">2 (2.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">former</td>
<td class="gt_row gt_center">7 (4.1%)</td>
<td class="gt_row gt_center">4 (4.1%)</td>
<td class="gt_row gt_center">4 (4.1%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">never</td>
<td class="gt_row gt_center">171 (94%)</td>
<td class="gt_row gt_center">86 (94%)</td>
<td class="gt_row gt_center">86 (94%)</td></tr>
    <tr><td class="gt_row gt_left">job</td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">easy</td>
<td class="gt_row gt_center">96 (52%)</td>
<td class="gt_row gt_center">48 (52%)</td>
<td class="gt_row gt_center">48 (52%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">hard</td>
<td class="gt_row gt_center">22 (12%)</td>
<td class="gt_row gt_center">11 (12%)</td>
<td class="gt_row gt_center">11 (12%)</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">none</td>
<td class="gt_row gt_center">65 (35%)</td>
<td class="gt_row gt_center">32 (35%)</td>
<td class="gt_row gt_center">32 (35%)</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><sup class="gt_footnote_marks">1</sup> Median (IQR); n (%)</td>
    </tr>
  </tfoot>
</table>
</div>
<p>From this table, we get our weighted population which is smaller than the whole population displayed in Table 1 from Exercise 2. By having the weighted population, our population distribution among treated and control group became balanced and they resemble to the treated group in previous table as we have less number of people in that group.</p>
</div>
<div id="exercise-6" class="section level2">
<h2>Exercise 6</h2>
<p><em>Examine the distribution of propensity score between the two groups, weighted by the weight chosen in Exercise 4. Create a plot to show this. What do you notice? Describe the plot.</em></p>
<pre class="r"><code>df_plot &lt;- coffee %&gt;%
  pivot_wider(names_from = coffee_town,
              values_from = .fitted,
              names_prefix = &quot;coffee_town_p&quot;)

ggplot(df_plot) +
  # geom_histogram(bins = 100,
  #                alpha = 0.5,
  #                aes(x = coffee_town_p1),
  #                fill = &quot;cornflower blue&quot;) +
  geom_histogram(bins = 100,
                 aes(x = coffee_town_p1,
                     weight = w_ato),
                 fill = &quot;cornflower blue&quot;) +
  # geom_histogram(bins = 100,
  #                alpha = 0.5,
  #                aes(x = coffee_town_p0,
  #                y = -stat(count)),
  #                fill = &quot;orange&quot;) +
  geom_histogram(bins = 100,
                 aes(x = coffee_town_p0,
                     weight = w_ato,
                     y = -stat(count)),
                 fill = &quot;orange&quot;) +

  scale_y_continuous(&quot;count&quot;,label = abs) +
  scale_x_continuous(&quot;propensity score&quot;) +
  geom_label(
    label = &quot;Live in coffee town&quot;,
    x = 0.2,
    y = 10
  ) +
  geom_label(
    label = &quot;Not live in coffee town&quot;,
    x = 0.2,
    y = -10
  )</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>This plot displayed the distribution of propensity score between the treatment and control group after being weighted by ATO weights. We can observe that our weighted population are more balanced between these two groups compared to the one in Exercise 4, and they were more similar to the original treatment group.</p>
</div>
<div id="exercise-7" class="section level2">
<h2>Exercise 7</h2>
<p><em>Create a Love Plot comparing the weighted and unweighted standardized mean differences. Describe what you see.</em></p>
<pre class="r"><code>#Calculate SMDs
smds &lt;- coffee %&gt;%
  summarize(
    across(
      c(job, age, smoke),
      list(
        unweighted = ~smd(.x, coffee_town)$estimate,
        ato.weighted = ~smd(.x, coffee_town, w_ato)$estimate
        )
      )
  )</code></pre>
<pre class="r"><code>#Pivot SMDs
plot_df &lt;- smds %&gt;%
  pivot_longer(
    everything(),
    values_to = &quot;SMD&quot;,
    names_to = c(&quot;variable&quot;, &quot;Method&quot;),
    names_pattern = &quot;(.*)_(.*)&quot;
  ) %&gt;%
  arrange(desc(Method), abs(SMD)) %&gt;%
  mutate(variable = fct_inorder(variable))</code></pre>
<pre class="r"><code>ggplot(
  data = plot_df,
  aes(x = abs(SMD), y = variable, group = Method, color = Method)) +
  geom_line(orientation = &quot;y&quot;) +
  geom_point() +
  geom_vline(xintercept = 0.1,
             lty = 2)</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>From this plot, we observed that all three covariates in the propensity model get perfectly balanced on the mean after weighting as the standardized mean differences became zero.</p>
</div>
<div id="exercise-8" class="section level2">
<h2>Exercise 8</h2>
<p><em>Create unweighted and weighted eCDF plot(s) for all continuous confounders. Describe what you see.</em></p>
<pre class="r"><code>#Unweighted eCDF
ggplot(coffee,
       aes(x = age, group = coffee_town,
       color = factor(coffee_town))) +
  stat_ecdf() +
  scale_color_manual(&quot;Live in coffee town&quot;,
                     values = c(&quot;orange&quot;,&quot;dark green&quot;),
                     labels = c(&quot;No&quot;,&quot;Yes&quot;)
  ) + 
  ylab(&quot;Proportion &lt;=x&quot;)</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<pre class="r"><code>ecdf_1 &lt;- coffee %&gt;%
  filter(coffee_town == 1) %&gt;%
  arrange(age) %&gt;% #from small to large value
  mutate(cum_pct_ato = cumsum(w_ato) / sum(w_ato))

ecdf_0 &lt;- coffee %&gt;%
  filter(coffee_town == 0) %&gt;%
  arrange(age) %&gt;%
  mutate(cum_pct_ato = cumsum(w_ato) / sum(w_ato))

ggplot(ecdf_1, aes(x = age, y = cum_pct_ato)) +
  geom_line(color = &quot;dark green&quot;) +
  geom_line(data = ecdf_0,
            aes(x = age, y = cum_pct_ato),
            color = &quot;orange&quot;) +
  ylab(&quot;Proportion &lt;=x&quot;)</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>The only continuous confounder in this example is age. Both unweighted and weighted eCDF plots suggested that these two groups are not balanced across the whole range of values.</p>
</div>
<div id="exercise-9" class="section level2">
<h2>Exercise 9</h2>
<p><em>Based on Exercises 7 and 8, refit your propensity score model if necessary. Recreate the weighted histograms, Love Plot, and eCDF plots for your new propensity score model (iterating until you are satisfied with the result). If you don’t think you need to make any changes describe why not.</em></p>
<pre class="r"><code>#Refit the model
coffee &lt;- glm(coffee_town ~ job + smoke + splines::ns(age, 3),
    family = binomial(),
    data = coffee) %&gt;%
  augment(data = coffee, type.predict = &quot;response&quot;) %&gt;%
  mutate(w_atoN = (1 -.fitted) * coffee_town + .fitted * (1 - coffee_town))</code></pre>
<pre class="r"><code>#Weighted histogram
df_plot &lt;- coffee %&gt;%
  pivot_wider(names_from = coffee_town,
              values_from = .fitted,
              names_prefix = &quot;coffee_town_p&quot;)

ggplot(df_plot) +
  geom_histogram(bins = 100,
                 aes(x = coffee_town_p1,
                     weight = w_atoN),
                 fill = &quot;cornflower blue&quot;) +
  geom_histogram(bins = 100,
                 aes(x = coffee_town_p0,
                     weight = w_atoN,
                     y = -stat(count)),
                 fill = &quot;orange&quot;) +

  scale_y_continuous(&quot;count&quot;,label = abs) +
  scale_x_continuous(&quot;propensity score&quot;) +
  geom_label(
    label = &quot;Live in coffee town&quot;,
    x = 0.2,
    y = 10
  ) +
  geom_label(
    label = &quot;Not live in coffee town&quot;,
    x = 0.2,
    y = -10
  )</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<pre class="r"><code>#Love Plot
smds &lt;- coffee %&gt;%
  summarize(
    across(
      c(job, age, smoke),
      list(
        unweighted = ~smd(.x, coffee_town)$estimate,
        ato.weighted = ~smd(.x, coffee_town, w_atoN)$estimate
        )
      )
  )

plot_df &lt;- smds %&gt;%
  pivot_longer(
    everything(),
    values_to = &quot;SMD&quot;,
    names_to = c(&quot;variable&quot;, &quot;Method&quot;),
    names_pattern = &quot;(.*)_(.*)&quot;
  ) %&gt;%
  arrange(desc(Method), abs(SMD)) %&gt;%
  mutate(variable = fct_inorder(variable))

ggplot(
  data = plot_df,
  aes(x = abs(SMD), y = variable, group = Method, color = Method)) +
  geom_line(orientation = &quot;y&quot;) +
  geom_point() +
  geom_vline(xintercept = 0.1,
             lty = 2)</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<pre class="r"><code>#Weighted eCDF
ecdf_1 &lt;- coffee %&gt;%
  filter(coffee_town == 1) %&gt;%
  arrange(age) %&gt;% #from small to large value
  mutate(cum_pct_ato = cumsum(w_atoN) / sum(w_atoN))

ecdf_0 &lt;- coffee %&gt;%
  filter(coffee_town == 0) %&gt;%
  arrange(age) %&gt;%
  mutate(cum_pct_ato = cumsum(w_atoN) / sum(w_atoN))

ggplot(ecdf_1, aes(x = age, y = cum_pct_ato)) +
  geom_line(color = &quot;dark green&quot;) +
  geom_line(data = ecdf_0,
            aes(x = age, y = cum_pct_ato),
            color = &quot;orange&quot;) +
  ylab(&quot;Proportion &lt;=x&quot;)</code></pre>
<p><img src="analysis_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>Our propensity score model was updated by modeling age as a natural spine with 3 degrees of freedom and now, the weighted eCDF plot suggested that these two groups are balanced across the whole range of values.</p>
</div>
<div id="exercise-10" class="section level2">
<h2>Exercise 10</h2>
<p><em>Estimate the average causal effect using your final propensity score model and weight. Explain what this means in words.</em></p>
<pre class="r"><code>coffee_town_df &lt;- 
  glm(coffee_town ~ job + smoke + splines::ns(age, 3),
    family = binomial(),
    data = coffee) %&gt;%
  augment(data = coffee, type.predict = &quot;response&quot;) %&gt;%
  mutate(ato = (1 -.fitted) * coffee_town + .fitted * (1 - coffee_town))

coffee_town_df %&gt;%
  summarise(
    ato_effect = sum(cups_of_coffee * coffee_town * ato) / 
      sum(coffee_town * ato) - 
      sum(cups_of_coffee * (1 - coffee_town) * ato) / 
      sum((1 - coffee_town) * ato))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["ato_effect"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"-0.006848469"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The result suggests that for people who may be possible to live in either town, individuals living in coffee town consume 0.0068 cups of coffee less than individuals not living in coffee town.</p>
</div>
<div id="bonus" class="section level2">
<h2>Bonus</h2>
<p><em>The average causal effect in exercise 10 is a point estimate. Ultimately, we are interested in additionally quantifying the uncertainty. Describe how you might estimate the uncertainty bounds for this estimate.</em></p>
<pre class="r"><code>library(rsample)
library(PSW)</code></pre>
<pre class="r"><code>fit_ipw &lt;- function(splits, ...) { #split is the orginal dataframe
  .df &lt;- analysis(splits) #pull out the split into new dataframe
  
  propensity_model &lt;- glm(
    coffee_town ~ job + smoke + splines::ns(age, 3),
      data = .df,
      family = binomial())
  
  .df &lt;- propensity_model %&gt;%
    augment(type.predict = &quot;response&quot;,data=.df) %&gt;%
    mutate(ato = (1 -.fitted) * coffee_town + .fitted * (1 - coffee_town))
  
  lm(cups_of_coffee ~ coffee_town, data = .df, weights = ato) %&gt;%
    tidy()
}</code></pre>
<pre class="r"><code>ipw_results &lt;- bootstraps(coffee, 1000, apparent = TRUE) %&gt;%
  mutate(results = map(splits, fit_ipw))</code></pre>
<pre class="r"><code>estimate &lt;- int_t(ipw_results, results) %&gt;%
  filter(term==&quot;coffee_town&quot;)
estimate</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["term"],"name":[1],"type":["chr"],"align":["left"]},{"label":[".lower"],"name":[2],"type":["dbl"],"align":["right"]},{"label":[".estimate"],"name":[3],"type":["dbl"],"align":["right"]},{"label":[".upper"],"name":[4],"type":["dbl"],"align":["right"]},{"label":[".alpha"],"name":[5],"type":["dbl"],"align":["right"]},{"label":[".method"],"name":[6],"type":["chr"],"align":["left"]}],"data":[{"1":"coffee_town","2":"-0.06603527","3":"-0.00736626","4":"0.05716063","5":"0.05","6":"student-t"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We applied bootstrap to estimate the probability weights instead of the frequency weights in point estimating. In this case, we extracted 1000 samples from the original data set to fit the model respectively. The 95% confidence interval was calculated using t-test and we get the interval of the coefficient of coffee_town between -0.0662 to 0.0566, which diminished the uncertainty of point estimate by deriving a interval for our estimate.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
